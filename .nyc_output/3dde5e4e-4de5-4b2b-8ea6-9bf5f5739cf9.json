{"/home/joao/git/pessoais/todo-list-backend/src/Services/accountService.ts":{"path":"/home/joao/git/pessoais/todo-list-backend/src/Services/accountService.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":21},"end":{"line":6,"column":69}},"4":{"start":{"line":9,"column":8},"end":{"line":9,"column":53}},"5":{"start":{"line":12,"column":27},"end":{"line":12,"column":64}},"6":{"start":{"line":13,"column":45},"end":{"line":13,"column":55}},"7":{"start":{"line":14,"column":8},"end":{"line":16,"column":9}},"8":{"start":{"line":15,"column":12},"end":{"line":15,"column":89}},"9":{"start":{"line":17,"column":8},"end":{"line":17,"column":56}},"10":{"start":{"line":20,"column":0},"end":{"line":20,"column":33}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":18},"end":{"line":10,"column":5}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":4},"end":{"line":11,"column":5}},"loc":{"start":{"line":11,"column":28},"end":{"line":18,"column":5}},"line":11}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":14,"column":8},"end":{"line":16,"column":9}},"type":"if","locations":[{"start":{"line":14,"column":8},"end":{"line":16,"column":9}},{"start":{"line":14,"column":8},"end":{"line":16,"column":9}}],"line":14}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":1},"f":{"0":1,"1":1,"2":1},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1],"3":[1,0]},"inputSourceMap":{"version":3,"file":"/home/joao/git/pessoais/todo-list-backend/src/Services/accountService.ts","sources":["/home/joao/git/pessoais/todo-list-backend/src/Services/accountService.ts"],"names":[],"mappings":";;;;;AACA,sEAA8C;AAE9C,MAAM,cAAc;IAApB;QACU,eAAU,GAAG,IAAI,oBAAU,EAAE,CAAA;IAUvC,CAAC;IARQ,KAAK,CAAC,QAAQ,CAAC,OAAiB;QACrC,MAAM,UAAU,GAAG,MAAM,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QACzD,MAAM,EAAE,QAAQ,EAAE,GAAG,EAAE,SAAS,EAAE,GAAG,UAAU,CAAC;QAChD,IAAI,GAAG,EAAE;YACP,OAAO,EAAE,OAAO,EAAE,0BAA0B,EAAE,QAAQ,EAAE,EAAE,EAAE,GAAG,EAAE,SAAS,EAAE,CAAC;SAC9E;QACD,MAAM,KAAK,CAAC,kCAAkC,CAAC,CAAC;IAClD,CAAC;CACF;AAED,kBAAe,cAAc,CAAC","sourcesContent":["import IAccount from '../Interfaces/account';\nimport AccountODM from '../Models/accountODM';\n\nclass AccountService {\n  private accountODM = new AccountODM()\n\n  public async register(account: IAccount) {\n    const newAccount = await this.accountODM.create(account);\n    const { username, _id, createdAt } = newAccount;\n    if (_id) {\n      return { message: 'Conta criada com sucesso', username, id: _id, createdAt };\n    }\n    throw Error('n√£o foi possivel criar sua conta');\n  }\n}\n\nexport default AccountService;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"24afd736e7d984229026a36c1c30d89dae64bbc7","contentHash":"ae994c3d6ad0ebcede691754295f4a24386ae2f5b9fe075fb27e24c2b665dded"},"/home/joao/git/pessoais/todo-list-backend/src/Models/accountODM.ts":{"path":"/home/joao/git/pessoais/todo-list-backend/src/Models/accountODM.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":19},"end":{"line":6,"column":38}},"4":{"start":{"line":7,"column":23},"end":{"line":7,"column":65}},"5":{"start":{"line":10,"column":23},"end":{"line":17,"column":10}},"6":{"start":{"line":18,"column":8},"end":{"line":18,"column":33}},"7":{"start":{"line":21,"column":0},"end":{"line":21,"column":29}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":18},"end":{"line":19,"column":5}},"line":9}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"f":{"0":1,"1":1},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1]},"inputSourceMap":{"version":3,"file":"/home/joao/git/pessoais/todo-list-backend/src/Models/accountODM.ts","sources":["/home/joao/git/pessoais/todo-list-backend/src/Models/accountODM.ts"],"names":[],"mappings":";;;;;AAAA,uCAAkC;AAElC,kEAAyC;AAEzC,MAAM,UAAW,SAAQ,sBAAqB;IAC5C;QACE,MAAM,MAAM,GAAG,IAAI,iBAAM,CAAW;YAClC,QAAQ,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE;YAC1C,KAAK,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE;YACvC,QAAQ,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE;SAC3C,EAAE;YACD,UAAU,EAAE,UAAU;YACtB,UAAU,EAAE,IAAI;SACjB,CAAC,CAAC;QACH,KAAK,CAAC,MAAM,EAAE,SAAS,CAAC,CAAC;IAC3B,CAAC;CACF;AAED,kBAAe,UAAU,CAAC","sourcesContent":["import { Schema } from 'mongoose';\nimport IAccount from '../Interfaces/account';\nimport AbstractODM from './abstractsODM';\n\nclass AccountODM extends AbstractODM<IAccount> {\n  constructor() {\n    const schema = new Schema<IAccount>({\n      username: { type: String, required: true },\n      email: { type: String, required: true },\n      password: { type: String, required: true },\n    }, {\n      versionKey: '_version',\n      timestamps: true,\n    });\n    super(schema, 'account');\n  }\n}\n\nexport default AccountODM;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c7a81f41f4bd2b64d2849444421aced66d8701de","contentHash":"a4b56768716df7af7e316d21a3c910acad679e301fee75608c8dfd0b990f0a92"},"/home/joao/git/pessoais/todo-list-backend/src/Models/abstractsODM.ts":{"path":"/home/joao/git/pessoais/todo-list-backend/src/Models/abstractsODM.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":19},"end":{"line":3,"column":38}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":29}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":35}},"4":{"start":{"line":8,"column":8},"end":{"line":8,"column":109}},"5":{"start":{"line":11,"column":8},"end":{"line":11,"column":45}},"6":{"start":{"line":14,"column":0},"end":{"line":14,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":35},"end":{"line":9,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":4},"end":{"line":10,"column":5}},"loc":{"start":{"line":10,"column":22},"end":{"line":12,"column":5}},"line":10}},"branchMap":{"0":{"loc":{"start":{"line":8,"column":21},"end":{"line":8,"column":108}},"type":"binary-expr","locations":[{"start":{"line":8,"column":21},"end":{"line":8,"column":54}},{"start":{"line":8,"column":58},"end":{"line":8,"column":108}}],"line":8}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1},"f":{"0":1,"1":1},"b":{"0":[1,1]},"inputSourceMap":{"version":3,"file":"/home/joao/git/pessoais/todo-list-backend/src/Models/abstractsODM.ts","sources":["/home/joao/git/pessoais/todo-list-backend/src/Models/abstractsODM.ts"],"names":[],"mappings":";;AAAA,uCAKkB;AAElB,MAAe,WAAW;IAKxB,YAAY,MAAc,EAAE,SAAiB;QAC3C,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,KAAK,GAAG,iBAAM,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,IAAA,gBAAK,EAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;IAC5E,CAAC;IAEM,KAAK,CAAC,MAAM,CAAC,GAAM;QACxB,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,GAAG,GAAG,EAAE,CAAC,CAAC;IACvC,CAAC;CACF;AAED,kBAAe,WAAW,CAAC","sourcesContent":["import {\n  Model,\n  models,\n  Schema,\n  model,\n} from 'mongoose';\n\nabstract class AbstractODM<T> {\n  protected model: Model<T>;\n  protected schema: Schema;\n  protected modelName: string;\n\n  constructor(schema: Schema, modelName: string) {\n    this.schema = schema;\n    this.modelName = modelName;\n    this.model = models[this.modelName] || model(this.modelName, this.schema);\n  }\n\n  public async create(obj: T): Promise<T> {\n    return this.model.create({ ...obj });\n  }\n}\n\nexport default AbstractODM;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"35eafdef7c59e9d609b3f75344a76b1d0a48c55f","contentHash":"2371e3bf5ac541d9b1ea2af94fa69adb4d41805c72ec1f208a0803b338a39f1b"}}